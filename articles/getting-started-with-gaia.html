<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Getting Started with the Gaia Platform | Gaia Platform Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Getting Started with the Gaia Platform | Gaia Platform Documentation ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../images/gaiafav.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/gaia-logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="getting-started-with-the-gaia-platform">Getting Started with the Gaia Platform</h1>

<hr>
<p><strong>NOTE</strong></p>
<p>At this time, Gaia Platform is in private preview. To request access, visit the <a href="https://www.gaiaplatform.io/developers">developer page</a> on the main Gaia Platform website and complete the request form at the bottom of the page.</p>
<p>The information contained in this document represents information about prerelease features of the product. Features might change when the product is released for general availability.</p>
<hr>
<p>This document provides guidance on setting up the Gaia SDK which includes the Gaia database server.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Before you begin, make sure that you have the following prerequisites installed on your machine:</p>
<ul>
<li>Ubuntu Linux 18.04 or 20.04</li>
<li><a href="https://cmake.org/">Cmake</a> build tools.</li>
<li>The <a href="http://clang.org/">clang</a> compiler version 8 or higher.</li>
<li>A machine that supports the x86-64 architecture.</li>
</ul>
<p>If you don't currently have cmake and clang installed, you can use the following commands to install them:</p>
<p><strong>sudo apt update &amp;&amp; apt upgrade &amp;&amp; apt install cmake clang</strong></p>
<h2 id="download-the-gaia-package">Download the Gaia package</h2>
<p>The Gaia SDK is delivered as a Debian software package (DEB).</p>
<p><strong>gaia-0.1.0_amd64.deb</strong></p>
<p>To download the package, use the time-limited URL that was sent to you in your welcome email.</p>
<h2 id="install-the-package">Install the package</h2>
<p>You must have sudo privileges to install the package.</p>
<p>To install the package:</p>
<ol>
<li>Navigate to the folder that contains the downloaded package.</li>
<li>At the command prompt, run the following command:</li>
</ol>
<p><strong>sudo apt install ./gaia-0.1.0_amd64.deb</strong></p>
<p>To remove the package:</p>
<ol>
<li><p>At the command prompt, run the following command:</p>
<p><strong>sudo apt remove gaia</strong></p>
</li>
</ol>
<p>To update the package, remove it and install the updated package:</p>
<ol>
<li><p>Download the updated package.</p>
</li>
<li><p>Navigate to the folder that contains the downloaded package.</p>
</li>
<li><p>To remove the currently installed package, run the following
command:</p>
<p><strong>sudo apt remove gaia</strong></p>
</li>
<li><p>To install the new version, run the following command after replacing the x.y.z with the version number of the server that you are installing:</p>
<p><strong>sudo apt install ./gaia-&lt;x.y.x&gt;_amd64.deb</strong></p>
</li>
</ol>
<h3 id="installed-components">Installed components</h3>
<pre>
/opt/gaia/bin
    gaia\_db\_server - The Gaia database catalog server.
    gaiac - Gaia Catalog compiler.
    gaiat - Gaia Translation Engine.
/opt/gaia/etc
    gaia.conf - Contains configuration settings for the platform and application loggers that the Gaia Platform uses.
    Gaia\_log.conf - Configuration settings for the database and rules  engine that comprise the Gaia Platform.
/opt/gaia/examples/incubator
    Incubator example
/opt/gaia/include
    Include files for the Gaia Platform.
/opt/gaia/lib
    Library files for the Gaia Platform.
</pre>
<h2 id="start-the-gaia-server">Start the Gaia server</h2>
<p>The Gaia server must be running to build or run any solution that is based on the Gaia Platform.</p>
<p>We recommend that you don't run gaia_db_server under the root user, As with any daemon process that is accessible to the outside, running the Gaia server process as root, or any other account with special access rights, is a security risk. As best practice in production, run Gaia under a separate user account. This user account should only own the data that is managed by the server, and should not be used to run other daemons. For example, using the user nobody is not recommended.</p>
<p>To prevent a compromised server process from modifying the Gaia executables, the user account must not own the Gaia executable files.</p>
<p>The Gaia server supports two command line arguments:</p>
<ul>
<li>--data-dir &lt;database-folder-path&gt; specifies the location in which to store the Gaia database.</li>
<li>--configuration-file-path &lt;config-file-name&gt; specifies the path and name of the configuration file that the Gaia server loads at startup.</li>
</ul>
<p>To start the server on a machine that supports systemd:</p>
<p><strong>sudo systemctl start gaia</strong></p>
<h3 id="starting-the-gaia-server-on-wsl">Starting the Gaia server on WSL</h3>
<p>When starting the Gaia server on WSL, use the --data-dir argument to specify the location in which to store the database. We recommend that you store it locally in ~/.local/gaia/db.</p>
<p>To start the server on Ubuntu and run it in the backgroun on WSL2 (Gaia has not been tested on WSL1):</p>
<p><strong>gaia_db_server --data-dir ~/.local/gaia/db &amp;</strong></p>
<h2 id="build-and-run-the-incubator-example">Build and run the incubator example</h2>
<p>You can verify that the Gaia SDK is installed properly by building and running the incubator demo. The source code for the incubator example is located in the /opt/gaia/examples/incubator_demo folder.</p>
<p><strong>Note</strong>: If you encounter issues building and running the demo, the incubator_demo folder contains a file named README.md. This document lists some of the common issues that you can encounter and suggested solutions.</p>
<p>Before you can build the incubator example, you must run cmake to build the makefiles for the example. To run cmake against the supplied CMakeLists.txt file that is installed with the Package:</p>
<ol>
<li><p>Copy the incubator demo into your folder:</p>
<p><strong>cp -r /opt/gaia/examples/incubator .</strong></p>
</li>
<li><p>Navigate to the incubator demo folder:</p>
<p><strong>cd incubator</strong></p>
</li>
</ol>
<p>To build and run the incubator example:</p>
<ol>
<li><p>Complete setup of the build environment by issuing the following
commands:
<strong>mkdir build
cd build
cmake ..
make</strong></p>
</li>
<li><p>When the build finishes, use the following command to run the
example:</p>
</li>
</ol>
<p><strong>./incubator sim</strong></p>
<p>Use the menu to start, stop, show, and access the other functions of the simulation.</p>
<p>To monitor the incubator simulation, open another terminal window. Navigate to the build folder and run the following command:</p>
<p><strong>watch -n 1 ./incubator show</strong></p>
<p>This command displays the state of the incubators as well as the state of their associated sensors and fans. The status updates every second.</p>
<h2 id="building-a-gaia-platform-solution">Building a Gaia Platform solution</h2>
<p>After your design phase, the Gaia Platform architecture lends itself best to the following workflow:</p>
<ul>
<li><p>Create a schema for your application.</p>
<ul>
<li>The schema defines tables and fields that contain the state of your system at any given time.</li>
<li>Add tables to manage the state of your application.</li>
<li>Determine which columns in the schema drive the behavior. Your rules will act on these fields.</li>
</ul>
</li>
<li><p>In your makefile run gaiac to import the schema and create tables for your database.</p>
<ul>
<li>Gaiac generates a header that contains the edc classes that define your schema in code. You include in this header your ruleset definition file.</li>
</ul>
</li>
<li><p>Create your ruleset.</p>
<ul>
<li>Identify the actions to be performed when an Active Field changes.</li>
</ul>
</li>
<li><p>Run gaiat to translate the ruleset into code files that you  in your app.</p>
</li>
<li><p>Create your application and call the code supplied by gaiat.</p>
</li>
</ul>
<p>This is, of course, an iterative process. As you refine your application, you will make changes to the schema and ruleset. A good start is to add the input table with an Active Field, then add a ruleset that contains a rule that fires when rows are inserted. Build from there (iterate) with tables for output and managing the application's state.</p>
<p>You define the schema in a DDL file.</p>
<pre><code>create table if not exists names
(
    name string active
);

create table if not exists greetings
(
    greeting string active
);
</code></pre>
<p>When you run gaiac, the composer creates the tables in the catalog and outputs header files that you include in your application.</p>
<p>When designing your solution for the Gaia Platform, keep in mind that each rule runs within a separate OS thread, and each thread can only have one outstanding transaction at a time. This provides transaction isolation which means, two simultaneously running rules (each with a unique thread and transaction) will never see each other's changes. A rule must complete executing, which automatically commits its transaction before the actions resulting from the rule can be seen by the rest of the system.</p>
<p>To state this another way:</p>
<ul>
<li>Rules run on separate threads. When data identified by an Active Field changes, it is possible for your app to check the database before rules based on the field run.</li>
<li>Rules processing is atomic, a rule must complete before you can see the results of actions due to the changes.</li>
<li>Rules only fire after the transaction that contains the change to the <a href="gaia-glossary.html#active-fields-rules-engine">Active Field</a> is committed. Said more succinctly, rules run post-commit.</li>
</ul>
<h2 id="next-steps">Next Steps</h2>
<ul>
<li><a href="../tutorials/writing-first-gaia-application.md">Write your first Gaia App</a></li>
<li><a href="rules-creation-basics.html">Learn the basics of creating rules</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
